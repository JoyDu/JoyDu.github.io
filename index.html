<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="JoyDu的小窝">
<meta property="og:url" content="http://JoyDu.github.io/index.html">
<meta property="og:site_name" content="JoyDu的小窝">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JoyDu的小窝">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://JoyDu.github.io/"/>





  <title>JoyDu的小窝</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">JoyDu的小窝</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Startseite
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archiv
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://JoyDu.github.io/2019/06/17/Oracle分析函数之lead和lag/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Joy Du">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JoyDu的小窝">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/17/Oracle分析函数之lead和lag/" itemprop="url">Oracle分析函数之lead和lag</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-06-17T10:42:00+08:00">
                2019-06-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="lead和lag"><a href="#lead和lag" class="headerlink" title="lead和lag"></a>lead和lag</h2><p>lag与lead函数是跟偏移量相关的两个分析函数，通过这两个函数可以在一次查询中取出同一字段的前N行的数据(lag)和后N行的数据(lead)作为独立的列,从而更方便地进行进行数据过滤。这种操作可以代替表的自联接，并且LAG和LEAD有更高的效率。</p>
<p>over()表示 lag()与lead()操作的数据都在over()的范围内，他里面可以使用partition by 语句（用于分组） order by 语句（用于排序）。partition by a order by b表示以a字段进行分组，再 以b字段进行排序，对数据进行查询。</p>
<p>lead(field, num, defaultvalue) field需要查找的字段，num往后查找的num行的数据，defaultvalue没有符合条件的默认值</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://JoyDu.github.io/2019/05/29/Razor语法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Joy Du">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JoyDu的小窝">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/29/Razor语法/" itemprop="url">Razor语法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-29T15:19:00+08:00">
                2019-05-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1.1 @符号之后的是C#代码，@{}里面可以是C#代码块，html标签会自动识别为html代码<br>    @model WebApp.Models.EmployeeModel<br>    @{<br>        ViewData[“Title”] = “Index”;<br>    }<br>    @{<br>        string[] strs = {“zs”, “zb”, “za”};<br>        foreach (var s in strs)<br>        {<br>            </p><p>@s</p><br>        }<br>    }<br>    <h2>@Model.CompanyName</h2><br>    <h3>@Model.Name</h3><p></p>
<p>1.2 @:被识别为文本，但是不推荐这种写法，可以使用text标签实现并且生成的html代码不会产生任何标签</p>
<pre><code>@:hello
&lt;text&gt;hello&lt;/text&gt;
</code></pre><p>1.3 强制识别为C#代码，可用小括号将表达式包裹，但是生成的结果包含括号，表达式的@符号在小括号外面的时候，生成的结果不包含括号</p>
<pre><code>@{string email=&quot;1131416702@qq.com&quot;;}

@*&lt;span&gt;@email.com&lt;/span&gt; 编译不通过@*

&lt;span&gt;无括号@(email).com&lt;/span&gt;

&lt;span&gt;有括号(@email).com&lt;/span&gt;
</code></pre><p>1.4 辅助方法</p>
<pre><code>变量输出html代码

@{
    string encodeStr = &quot;&lt;a href=&apos;1131416702@qq.com&apos;&gt;Email&lt;/a&gt;&quot;;
}
@encodeStr 输出的是字符串
@Html.Raw(encodeStr) 输出的是html代码
</code></pre><p>1.5</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://JoyDu.github.io/2019/05/07/dotnet高级技术/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Joy Du">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JoyDu的小窝">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/07/dotnet高级技术/" itemprop="url">.Net高级技术</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-05-07T15:19:00+08:00">
                2019-05-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-密闭类和静态类"><a href="#1-密闭类和静态类" class="headerlink" title="1.密闭类和静态类"></a>1.密闭类和静态类</h2><p>1.1 密闭类是修饰为sealed的类， sealed不能有子类。一般只有系统中的一些基本类声明为sealed<br><br>1.2 静态类：声明为static的类，不能实例化，只能定义static成员。通常用他定义扩展方法<br><br>1.3 C#3.0特性：扩展方法。声明静态类，增加一个静态方法，第一个参数是被扩展类型的标记为this，然后在其他类中可以直接调用，本质上还是对静态方法调用提供的一个“语法糖”，也可以用普通静态方法的方式调用，所以不能访问private和protected成员。<br><br>eg:为String扩展一个IsEmail方法</p>
<pre><code>namespace DotNet高级技术
{
    class Program
    {
        static void Main(string[] args)
        {
            string email = &quot;352834867@qq.com&quot;;
            string msg=email.IsEmail()?&quot;True&quot;:&quot;False&quot;;
            Console.WriteLine(msg);
            Console.ReadKey();
        }
    }

    #region 扩展方法
    static class StringExt
    {
        public static bool IsEmail(this string a)
        {
            return a.Contains(&quot;@&quot;);
        }
    } 
    #endregion
}
</code></pre><h2 id="2-深拷贝，浅拷贝"><a href="#2-深拷贝，浅拷贝" class="headerlink" title="2.深拷贝，浅拷贝"></a>2.深拷贝，浅拷贝</h2><p>如果拷贝的时候共享被引用的对象就是浅拷贝，如果被引用的对象也拷贝一份出来就是深拷贝。</p>
<h2 id="3-值类型和引用类型"><a href="#3-值类型和引用类型" class="headerlink" title="3.值类型和引用类型"></a>3.值类型和引用类型</h2><p>3.1 引用类型派生自System.Object (字符串、数组、类、接口)</p>
<p>3.2 值类型均隐式派生自System.ValueType(ValueType其实也是继承自Object，不过是特立独行的一个分支 (int、long、double、float、char）、bool、结构体、枚举)</p>
<p>3.3 区别：</p>
<p>引用类型变量的赋值只复制对对象的引用；引用类型在堆内存（malloc）</p>
<p>值类型变量赋值会拷贝一个副本；值类型在栈内存；值类型一定是sealed</p>
<h2 id="4-拆箱，装箱"><a href="#4-拆箱，装箱" class="headerlink" title="4.拆箱，装箱"></a>4.拆箱，装箱</h2><p>4.1 值类型赋值给Object类型变量的时候，会发生装箱</p>
<p>4.2 Object类型变量赋值给值类型赋值的时候会发生拆箱，需要做显式转换</p>
<h2 id="5-和Equals"><a href="#5-和Equals" class="headerlink" title="5.==和Equals"></a>5.==和Equals</h2><p>5.1 对于值类型来说，==和Equals是等价的都是判断变量内容是否一样</p>
<p>5.2 对于除string类型之外的引用类型来说，Equals判断是否对同一个对象的引用（即堆中的内容是否相同），==比较的是栈的内容是否相同（即是否指向同一个堆中地址）</p>
<h2 id="6-字符串暂存池（缓冲池）"><a href="#6-字符串暂存池（缓冲池）" class="headerlink" title="6. 字符串暂存池（缓冲池）"></a>6. 字符串暂存池（缓冲池）</h2><p>字符串是引用类型，程序中会存在大量的字符串对象，如果每次都创建一个字符串对象，会比较浪费内存、性能低，因此CLR做了“暂存池”(拘留池，缓冲池，暂存池）</p>
<pre><code>string s1 = &quot;rupeng&quot;;
string s2 = &quot;rupeng&quot;;
string s3 = &quot;ru&quot; + &quot;peng&quot;;
string s4 = new string(s1.ToCharArray());
string s5 = new string(new char[]{&apos;r&apos;,&apos;u&apos;,&apos;p&apos;,&apos;e&apos;,&apos;n&apos;,&apos;g&apos;});
Console.WriteLine(Object.ReferenceEquals(s1,s2));
Console.WriteLine(Object.ReferenceEquals(s1, s3));
Console.WriteLine(Object.ReferenceEquals(s1, s4));
Console.WriteLine(Object.ReferenceEquals(s1, s5));
Console.WriteLine(Object.ReferenceEquals(s4, s5));

//三个字符串对象s1、s2、s3是同一个字符串对象，在内容相同的情况下只有new才能产生一个新的字符串对象
</code></pre><h2 id="7-ref，out"><a href="#7-ref，out" class="headerlink" title="7.ref，out"></a>7.ref，out</h2><p>普通参数是“值类型传递拷贝，引用类型传递引用”，但是都不能在函数内部修改外部变量的指向，这时候要用ref或者out(相当于把变量都传进去了），他们的作用不同：ref的作用“方法内部修改外部变量的引用”；out的作用“方法内部给外部变量初始化，相当于一个函数多个返回值”。</p>
<p>7.1 使用ref型参数时，传入的参数必须先被初始化，方法中可以不赋值。对out而言，必须在方法中对其完成初始化，方法外部不用初始化，初始化也没用。</p>
<p>7.2 使用ref和out时，在方法的参数和执行方法时，都要加ref或out关键字。以满足匹配。 </p>
<p>7.3 out适合用在需要retrun多个返回值的地方，而ref则用在需要被调用的方法修改调用者的引用的时候。</p>
<h2 id="8-委托和事件"><a href="#8-委托和事件" class="headerlink" title="8.委托和事件"></a>8.委托和事件</h2><p>委托是一种可以指向方法的数据类型，可以声明委托类型变量 delegate 返回值类型 委托类型名(参数) eg:delegate void MyDel(int n)</p>
<p>委托的使用：委托变量之间可以相互赋值，就是一个传递指向方法的过程</p>
<p>8.1.1 委托方法获取最大值</p>
<pre><code>namespace 委托和事件
{
    class Program
    {
        delegate void MyDel(string name);
        static void Main(string[] args)
        {
            MyDel mydel = new MyDel(new Program().SayHello);
            mydel(&quot;张三&quot;);

            Console.WriteLine(&quot;Function GetMax&quot;);
            object[] objs = { 12, 58, 45, 36, 41, 89, 54, 36, 47 };
            int max = (int)new Program().GetMax(objs, new CompareNum(new Program().CompareInt));
            Console.WriteLine(max);
            Console.ReadKey();
        }
        public void SayHello(string name) {
            Console.WriteLine(name);
        }
        delegate bool CompareNum(object obj1, object obj2);
        private object GetMax(object[] objs,CompareNum compareNum)
        {
            object obj = objs[0];
            for (int i = 1; i &lt; objs.Length; i++)
            {
                if (!compareNum(obj,objs[i]))
                {
                    obj = objs[i];
                }
            }
            return obj;
        }
        public bool CompareInt(object object1,object object2)
        {
            return (int)object1 &gt; (int)object2; 
        }
    }
}
</code></pre><p>8.1.2 .Net内置泛型委托Func/Action,Func有返回值Action无返回值</p>
<pre><code>static void Main(string[] args)
    {
        Action&lt;string&gt; ac = new Action&lt;string&gt;(new Program().SayHello);
        ac(&quot;Joydu&quot;);
        Func&lt;string&gt; fc = new Func&lt;string&gt;(new Program().GetName);
        string name = fc();
        Console.WriteLine(string.Format(&quot;My Name is {0}&quot;, name));
        Console.ReadKey();
    }
    public void SayHello(string name)
    {
        Console.WriteLine(string.Format(&quot;Hello {0}&quot;,name));
    }
    public string GetName()
    {
        return &quot;Joydu&quot;;
    }
</code></pre><p>8.1.3 多播委托<br>    /// <summary><br>    /// 多播委托<br>    /// </summary></p>
<pre><code>public class MultiDelegate

{

    private delegate int DemoMultiDelegate(out int x);

    private static int Show1(out int x)

    {

        x = 1;

        Console.WriteLine(&quot;This is the first show method:&quot; + x);

        return x;

    }

    private static int Show2(out int x)

    {

        x = 2;

        Console.WriteLine(&quot;This is the second show method:&quot; + x);

        return x;

    }

    private static int Show3(out int x)

    {

        x = 3;

        Console.WriteLine(&quot;This is the third show method:&quot; + x);

        return x;

    }

    /// &lt;summary&gt;

    /// 调用多播委托

    /// &lt;/summary&gt;

    public void Show()

    {

        DemoMultiDelegate dmd = new DemoMultiDelegate(Show1);

        dmd += new DemoMultiDelegate(Show2);

        dmd += new DemoMultiDelegate(Show3);//检查结果

        int x = 5;

        int y = dmd(out x);

        Console.WriteLine(y);

    }

}

//调用
MultiDelegate multiDelegate = new MultiDelegate();
multiDelegate.Show();
</code></pre><p>8.2 事件 语法：event Mydelegate mdl; 用了event事件，不可以修改事件已经注册的值；不可以冒充进行事件通知了。只能+=、-=！</p>
<p>8.3 委托和事件总结</p>
<p>委托的作用：占位，在不知道将来要执行的方法的具体代码时，可以先用一个委托变量来代替方法调用（委托的返回值，参数列表要确定）。在实际调用之前，需要为委托赋值,否则为null。</p>
<p>事件的作用： 事件的作用与委托变量一样，只是功能上比委托变量有更多的限制。（比如：1.只能通过+=或-=来绑定方法（事件处理程序）2.只能在类内部调用（触发）事件。）</p>
<p>关系：事件由一个私有的委托变量和add<em><em>*</em>和remove</em><em>*</em>方法组成；</p>
<p>事件的非简化写法：声明一个私有的委托变量和add、remove方法。</p>
<pre><code>private  MyDel  QingZhu;
public event MyDel qingzhu
{
    add
    {
        this.QingZhu += value;
    }
    remove
    {
        this.QingZhu -= value;
    }
}
</code></pre><ol>
<li>反射和Attribute</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://JoyDu.github.io/2019/04/19/urllib/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Joy Du">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JoyDu的小窝">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/19/urllib/" itemprop="url">python爬虫知识</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-04-19T12:20:00+08:00">
                2019-04-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Urllib模块"><a href="#Urllib模块" class="headerlink" title="Urllib模块"></a>Urllib模块</h2><ol>
<li>urllib.request     请求模块</li>
<li>urllib.error       异常处理模块</li>
<li>urllib.parse       url解析模块 </li>
<li>urllib.robotparser robots.txt解析模块</li>
</ol>
<h3 id="1-urllib-request"><a href="#1-urllib-request" class="headerlink" title="1.urllib.request"></a>1.urllib.request</h3><h4 id="1-1-urlopen"><a href="#1-1-urlopen" class="headerlink" title="1.1 urlopen"></a>1.1 urlopen</h4><pre><code># coding=utf-8
# urllib.request.urlopen(url,data=None,[timeout, ]*,cafile=None,cadefault=False,context=None)
import urllib.request
import urllib.parse
import urllib.error
import socket

# get提交数据
print(&apos;get提交数据&apos;)
response = urllib.request.urlopen(&quot;http://www.baidu.com&quot;)
print(response.read().decode(&apos;utf-8&apos;))
print(&apos;========================================================================&apos;)

# post提交数据
print(&apos;post提交数据&apos;)
data = bytes(urllib.parse.urlencode({&apos;word&apos;: &apos;hello&apos;}), encoding=&quot;utf8&quot;)
# 按照utf8编码格式封装需要post的数据
response = urllib.request.urlopen(&apos;http://httpbin.org/post&apos;, data=data)
print(response.read())
print(&apos;========================================================================&apos;)

# 设置超时
print(&apos;设置超时&apos;)
response = urllib.request.urlopen(&quot;http://httpbin.org/get&quot;, timeout=1)
print(response.read().decode(&apos;utf-8&apos;))
print(&apos;========================================================================&apos;)

# 捕获报错
print(&apos;捕获报错&apos;)
try:
    response = urllib.request.urlopen(&quot;http://httpbin.org/get&quot;, timeout=0.1)
except urllib.error.URLError as e:
    print(e)
    if isinstance(e.reason, socket.timeout):
        print(&apos;TIME OUT&apos;)
print(&apos;========================================================================&apos;)
</code></pre><h4 id="1-2-Response"><a href="#1-2-Response" class="headerlink" title="1.2 Response"></a>1.2 Response</h4><pre><code># coding = utf-8
import urllib.request
response = urllib.request.urlopen(&apos;http://www.python.org&apos;)

# 响应类型 http.client.HTTPResponse
print(type(response))

print(&quot;Status:&quot;, response.status)
print(&quot;Headers:&quot;, response.getheaders())
print(&quot;Server&quot;, response.getheader(&apos;Server&apos;))
</code></pre><h4 id="1-3-Request"><a href="#1-3-Request" class="headerlink" title="1.3 Request"></a>1.3 Request</h4><pre><code># coding = utf-8
from urllib import request, parse
# 添加headers的两种方式
url = &apos;http://httpbin.org/post&apos;
headers = {
    &apos;User-Agent&apos;: &apos;Mozilla/4.0 (compatible; MSIE 5.5; Windows NT)&apos;,
    &apos;Host&apos;: &apos;httpbin.org&apos;
}
dict = {&apos;name&apos;: &apos;Germey&apos;}
data = bytes(parse.urlencode(dict), encoding=&apos;utf8&apos;)
req = request.Request(url=url, data=data, headers=headers, method=&quot;POST&quot;)
response = request.urlopen(req)
print(response.read().decode(&quot;utf-8&quot;))
print(&quot;===========================================================&quot;)

req=request.Request(url=url,data=data,method=&quot;POST&quot;)
req.add_header(&apos;User-Agent&apos;,&apos;Mozilla/4.0 (compatible; MSIE 5.5; Windows NT)&apos;)
response = request.urlopen(req)
print(response.read().decode(&quot;utf-8&quot;))
print(&quot;===========================================================&quot;)
</code></pre><h4 id="1-4-Handler-代理"><a href="#1-4-Handler-代理" class="headerlink" title="1.4 Handler(代理)"></a>1.4 Handler(代理)</h4><pre><code># coding = utf-8
from urllib import request
# 下面代理地址不一定存活
proxy_handle = request.ProxyHandler({
    &apos;https&apos;: &apos;https://110.52.235.68:9999&apos;
})
opener = request.build_opener(proxy_handle)
response = opener.open(&apos;http://httpbin.org/get&apos;)
print(response.read().decode(&quot;utf-8&quot;))
</code></pre><h4 id="1-5-Cookie"><a href="#1-5-Cookie" class="headerlink" title="1.5 Cookie"></a>1.5 Cookie</h4><pre><code># coding = utf-8
import http.cookiejar
import urllib.request
# 获取cookie
cookie = http.cookiejar.CookieJar()
handler = urllib.request.HTTPCookieProcessor(cookie)
opener = urllib.request.build_opener(handler)
response = opener.open(&apos;http://www.baidu.com&apos;)
for item in cookie:
    print(item.name + &quot;=&quot; + item.value)
print(&quot;========================================================&quot;)

# 将cookie写入到文件
cookiefile = &quot;cookie.txt&quot;
cookie = http.cookiejar.MozillaCookieJar(cookiefile)
handler = urllib.request.HTTPCookieProcessor(cookie)
opener = urllib.request.build_opener(handler)
response = opener.open(&quot;http://www.baidu.com&quot;)
# ignore_discard的意思是即使cookies将被丢弃也将它保存下来
# ignore_expires的意思是如果cookies已经过期也将它保存并且文件已存在时将覆盖
cookie.save(ignore_discard=True, ignore_expires=True)

cookiefile = &quot;cookie.txt&quot;
cookie = http.cookiejar.LWPCookieJar(cookiefile)
handler = http.request.HTTPCookieProcessor(cookie)
opener = urllib.request.build_opener(handler)
response = opener.open(&quot;http://www.baidu.com&quot;)
cookie.save(ignore_discard=True, ignore_expires=True)

# 从文件加载cookie信息
cookiefile = &quot;cookie.txt&quot;
cookie = http.cookiejar.LWPCookieJar()
cookie.load(cookiefile,ignore_discard=True,ignore_expires=True)
handler = urllib.request.HTTPCookieProcessor(cookie)
opener = urllib.request.build_opener(handler)
opener.open(&quot;http://www.baidu.com&quot;)
print(response.read().decode(&quot;utf-8&quot;))
</code></pre><h4 id="2-1-urllib-erro"><a href="#2-1-urllib-erro" class="headerlink" title="2.1 urllib.erro"></a>2.1 urllib.erro</h4><pre><code># coding=utf-8
from urllib import request, error
# urllib.URLErro
# 没有网络连接
# 服务器连接失败
# 找不到指定的服务器
try:
    response = request.urlopen(&quot;http://www.baidu.com&quot;, timeout=0.01)
except error.URLError as e:
    print(e.reason)
print(&quot;=============================================================&quot;)

# urllib.HTTPError
# HTTPError是URLError的子类，发出请求时，服务器上都会对应一个response应答对象，其中它包含一个数字&quot;响应状态码&quot;。
# 如果urlopen或opener.open不能处理的，会产生一个HTTPError，对应相应的状态码，HTTP状态码表示HTTP协议所返回的响应的状态。
# URLError是HTTPErro的父类，所以HTTPErro写在前面，先捕获子类的异常
try:
    response = request.urlopen(&quot;http://cuiqingcai.com/index.html&quot;)
except error.HTTPError as e:
    print(e.reason)
except error.URLError as e:
    print(e.reason)
else:
    print(&quot;Request Successfully&quot;)
print(&quot;=============================================================&quot;)
</code></pre><h4 id="3-1-urlparse"><a href="#3-1-urlparse" class="headerlink" title="3.1 urlparse"></a>3.1 urlparse</h4><pre><code># coding=utf-8
from urllib import request, parse

# 分解url
# urllib.parse.urlparse(urlstring, scheme=&apos;&apos;, allow_fragments=True)
# allow_fragments 是否加载片段参数默认为true
# scheme=&apos;http/https&apos;替换url协议类型，如果url中存在则不替换
result = parse.urlparse(&quot;http://www.baidu.com/index.html;user?id=5#comment&quot;)
print(type(result), result)

result = parse.urlparse(&apos;www.baidu.com/index.html;user?id=5#comment&apos;, scheme=&apos;https&apos;)
print(result)

result = parse.urlparse(&apos;http://www.baidu.com/index.html;user?id=5#comment&apos;, allow_fragments=False)
print(result)
</code></pre><h4 id="3-2-urlunparse"><a href="#3-2-urlunparse" class="headerlink" title="3.2 urlunparse"></a>3.2 urlunparse</h4><pre><code>from urllib.parse import urlunparse

# 拼接url
data = [&apos;http&apos;, &apos;www.baidu.com&apos;, &apos;index.html&apos;, &apos;user&apos;, &apos;a=6&apos;, &apos;comment&apos;]
print(urlunparse(data))
</code></pre><h4 id="3-3-urljoin"><a href="#3-3-urljoin" class="headerlink" title="3.3 urljoin"></a>3.3 urljoin</h4><pre><code>from urllib.parse import urljoin
# 组合url
print(urljoin(&apos;http://www.baidu.com&apos;, &apos;FAQ.html&apos;))
print(urljoin(&apos;http://www.baidu.com&apos;, &apos;https://cuiqingcai.com/FAQ.html&apos;))
print(urljoin(&apos;http://www.baidu.com/about.html&apos;, &apos;https://cuiqingcai.com/FAQ.html&apos;))
print(urljoin(&apos;http://www.baidu.com/about.html&apos;, &apos;https://cuiqingcai.com/FAQ.html?question=2&apos;))
print(urljoin(&apos;http://www.baidu.com?wd=abc&apos;, &apos;https://cuiqingcai.com/index.php&apos;))
print(urljoin(&apos;http://www.baidu.com&apos;, &apos;?category=2#comment&apos;))
print(urljoin(&apos;www.baidu.com&apos;, &apos;?category=2#comment&apos;))
print(urljoin(&apos;www.baidu.com#comment&apos;, &apos;?category=2&apos;))
</code></pre><h4 id="3-4-urlencode"><a href="#3-4-urlencode" class="headerlink" title="3.4 urlencode"></a>3.4 urlencode</h4><pre><code>from urllib.parse import urlencode

params = {
    &apos;name&apos;: &apos;germey&apos;,
    &apos;age&apos;: 22
}
base_url = &apos;http://www.baidu.com?&apos;
url = base_url + urlencode(params)
print(url)
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://JoyDu.github.io/2019/04/19/requests/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Joy Du">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JoyDu的小窝">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/19/requests/" itemprop="url">python爬虫知识</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-04-19T12:20:00+08:00">
                2019-04-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Requests模块"><a href="#Requests模块" class="headerlink" title="Requests模块"></a>Requests模块</h2><h3 id="1-请求方式"><a href="#1-请求方式" class="headerlink" title="1.请求方式"></a>1.请求方式</h3><pre><code>requests.post(&quot;http://httpbin.org/post&quot;)
requests.put(&quot;http://httpbin.org/put&quot;)
requests.delete(&quot;http://httpbin.org/delete&quot;)
requests.get(&quot;http://httpbin.org/get&quot;)
requests.options(&quot;http://httpbin.org/options&quot;)
</code></pre><h3 id="2-Get请求"><a href="#2-Get请求" class="headerlink" title="2.Get请求"></a>2.Get请求</h3><pre><code># 基本Get请求
response = requests.get(&quot;http://httpbin.org/get?name=lily&amp;age=22&quot;)
print(response.text)

# 带参数Get请求
data = {&apos;name&apos;: &quot;germey&quot;, &apos;age&apos;: 22}
response = requests.get(&quot;http://httpbin.org/get&quot;, params=data)
print(response.text)

# json解析
response = requests.get(&quot;http://httpbin.org/get&quot;)
print(type(response.text))
print(response.json())
print(json.loads(response.text))
print(type(response.json()))

# 获取二进制数据
response = requests.get(&quot;https://github.com/favicon.ico&quot;)
print(type(response.text),type(response.content))
print(response.text)
print(response.content)
with open(&quot;favicon.ico&quot;,&quot;wb&quot;) as file:
    file.write(response.content)
    file.close()

# 添加headers
headers = {
    &apos;User-Agent&apos;: &apos;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36&apos;
}
response = requests.get(&quot;http://www.zhihu.com/explore&quot;,headers=headers)
print(response.text)
</code></pre><h3 id="3-Post请求"><a href="#3-Post请求" class="headerlink" title="3.Post请求"></a>3.Post请求</h3><pre><code># 基本Post请求
data = {&apos;name&apos;: &apos;germey&apos;, &apos;age&apos;: &apos;22&apos;}
headers = {
    &apos;User-Agent&apos;:
    &apos;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36&apos;
}
response = requests.post(&quot;http://httpbin.org/post&quot;, data=data, headers=headers)
print(response.json())

# response属性
response = requests.get(&apos;http://www.jianshu.com&apos;)
print(type(response.status_code), response.status_code)
print(type(response.headers), response.headers)
print(type(response.cookies), response.cookies)
print(type(response.url), response.url)
print(type(response.history), response.history)

# 状态码判断
response = requests.get(&apos;http://www.jianshu.com/hello.html&apos;)
exit() if not response.status_code == requests.codes.not_found else print(&apos;404 Not Found&apos;)

response = requests.get(&apos;http://www.jianshu.com&apos;)
exit() if not response.status_code == 200 else print(&apos;Request Successfully&apos;)

# 文件上传
files = {&apos;file&apos;: open(&apos;favicon.ico&apos;, &apos;rb&apos;)}
response = requests.post(&quot;http://httpbin.org/post&quot;, files=files)
print(response.text)

# 获取cookie
response = requests.get(&quot;https://www.baidu.com&quot;)
print(response.cookies)
for key, value in response.cookies.items():
    print(key + &quot; = &quot; + value)

# 会话维持(模拟登陆)
requests.get(&quot;http://httpbin.org/cookies/set/number/123456789&quot;)
response = requests.get(&quot;http://httpbin.org/cookies&quot;)
print(response.text)

s = requests.Session()
s.get(&quot;http://httpbin.org/cookies/set/number/123456789&quot;)
response = s.get(&quot;http://httpbin.org/cookies&quot;)
print(response.text)

# 代理设置
proxies = {
&quot;http&quot;: &quot;http://127.0.0.1:9743&quot;,
&quot;https&quot;: &quot;https://127.0.0.1:9743&quot;,
}
response = requests.get(&quot;https://www.taobao.com&quot;,proxies=proxies)
print(response.status_code)

proxies = {
    &quot;http&quot;: &quot;http://user:password@127.0.0.1:9743/&quot;,
}
response = requests.get(&quot;https://www.taobao.com&quot;, proxies=proxies)
print(response.status_code)

# 超时设置
from requests.exceptions import ReadTimeout
try:
    response = requests.get(&quot;http://httpbin.org/get&quot;, timeout = 0.5)
    print(response.status_code)
except ReadTimeout:
    print(&apos;Timeout&apos;)

# 认证设置
from requests.auth import HTTPBasicAuth

r = requests.get(&apos;http://120.27.34.24:9001&apos;, auth=HTTPBasicAuth(&apos;user&apos;, &apos;123&apos;))
print(r.status_code)

r = requests.get(&apos;http://120.27.34.24:9001&apos;, auth=(&apos;user&apos;, &apos;123&apos;))
print(r.status_code)

# 异常处理
from requests.exceptions import ReadTimeout, ConnectionError, RequestException
try:
    response = requests.get(&quot;http://httpbin.org/get&quot;, timeout = 0.5)
    print(response.status_code)
except ReadTimeout:
    print(&apos;Timeout&apos;)
except ConnectionError:
    print(&apos;Connection error&apos;)
except RequestException:
    print(&apos;Error&apos;)
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://JoyDu.github.io/2019/04/13/note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Joy Du">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JoyDu的小窝">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/13/note/" itemprop="url">Unbenannt</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-04-13T14:07:46+08:00">
                2019-04-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="前端随手记"><a href="#前端随手记" class="headerlink" title="前端随手记"></a>前端随手记</h1><h2 id="1-line-height"><a href="#1-line-height" class="headerlink" title="1.line-height"></a>1.line-height</h2><pre><code>1.1行高指基线到基线的距离&lt;br /&gt;
1.2行高等于盒子高度时会自动居中，行高小于盒子高度，内容偏上，反之偏下
</code></pre><h2 id="2-css三大特性"><a href="#2-css三大特性" class="headerlink" title="2.css三大特性"></a>2.css三大特性</h2><pre><code>2.1层叠性 冲突的属性会被覆盖掉
2.2继承性 子标签会继承父标签的某些特性，如文本颜色 字体大小等
2.3优先级 !important&gt;行内样式权重&gt;ID选择器权重&gt;类选择器权重&gt;标签选择器权重 继承的权重是0
</code></pre><p>3.背景透明<br>    back</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://JoyDu.github.io/2019/03/18/netcore输出乱码/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Joy Du">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JoyDu的小窝">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/18/netcore输出乱码/" itemprop="url">.NetCore输出乱码</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-18T23:09:00+08:00">
                2019-03-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="NetCore输出乱码"><a href="#NetCore输出乱码" class="headerlink" title=".NetCore输出乱码"></a>.NetCore输出乱码</h2><p>1.控制台乱码的原因是因为中文windows命令行默认编码页是gb2312，想输出中文只要把控制台的编码页修改成Unicode就可以了。<br>在cmd里输入chcp 65001再运行程序或者在程序里加一行<br></p>
<p>Console.OutputEncoding = Encoding.Unicode;<br></p>
<p>2.网页乱码的原因也是因为程序没有指定编码默认使用Unicode，而中文环境浏览器默认使用gbk。可以通过设置ContentType来告诉浏览器使用utf8.<br></p>
<p>在await context.Response.WriteAsync(“您好，北京欢迎你”);前面加上:context.Response.ContentType = “text/plain;charset=utf-8”;<br></p>
<p>只是显示中文的话没有特殊需求的情况下并不需要引用System.Text.Encoding.CodePages<br></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://JoyDu.github.io/2019/02/15/NetCoreMark/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Joy Du">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JoyDu的小窝">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/15/NetCoreMark/" itemprop="url">.NetCore教程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-02-15T11:45:00+08:00">
                2019-02-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="vscode开发-netcore常用命令"><a href="#vscode开发-netcore常用命令" class="headerlink" title="vscode开发.netcore常用命令"></a>vscode开发.netcore常用命令</h2><p>1.dotnet-new 初始化应用程序项目<br><br>2.dotnet-restore 还原应用程序的依赖项<br><br>3.dotnet-build 生成.netcore应用程序<br><br>4.dotnet-publish 发布.netcore应用程序<br><br>5.dotnet-run 从源码运行.netcore应用程序<br><br>6.dotnet-test 使用project.json中指定的测试工具执行测试<br><br>7.dotnet-pack 使用你的代码创建NuGet包<br></p>
<h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><p>1.不再基于System.Web.dll，而是基于一组精细且充分考虑的 NuGet 包<br><br>2.内置依赖注入(实现IOC即控制反转的一种方式，<a href="https://www.cnblogs.com/alltime/p/6729295.html" target="_blank" rel="external">构造方式注入,属性方式注入</a>)</p>
<h2 id="ASP-NET-Core-项目配置-Startup"><a href="#ASP-NET-Core-项目配置-Startup" class="headerlink" title="ASP.NET Core 项目配置 ( Startup )"></a>ASP.NET Core 项目配置 ( Startup )</h2><p>Startup类必须是公开的，并且包含以下两个方法<br></p>
<pre><code>public Class Startup{
    //用于定义应用程序需要的服务，例如ASP.NET Core MVC EF Core和Identity等
    public void ConfigureServices(IServiceCollection services){

    }
}
//定义请求管道的中间件，即定义如何响应请求
public void Configure(IApplicationBuilder app,IHostingEnvironment env){
    if(env.IsDevelopment())
    {
        app.UseDeveloperExceptionPage();
    }
    app.Run(async(context)=&gt;
    {
        await context.Response.WriteAsync(&quot;Hello World&quot;);
    });
}
</code></pre><h2 id="ASP-NET-Core中间件"><a href="#ASP-NET-Core中间件" class="headerlink" title="ASP.NET Core中间件"></a>ASP.NET Core中间件</h2><p>一种装配到应用程序管道以处理请求和响应的组件</p><br><p>每个组件：</p><br><p>1.可以选择是否将请求传递到管道中的下一个组件。</p><br><p>2.可在调用管道中的下一个组件前后执行工作。</p><br><p><b>Microsoft.AspNetCore.Diagnostics</b> 异常处理包可以用于异常处理，异常显示页面和诊断信息的 ASP.NET Core 中间件</p><br>    using System;<br>    using System.Collections.Generic;<br>    using System.Linq;<br>    using System.Threading.Tasks;<br>    using Microsoft.AspNetCore.Builder;<br>    using Microsoft.AspNetCore.Hosting;<br>    using Microsoft.AspNetCore.Http;<br>    using Microsoft.Extensions.DependencyInjection;<br>    using Microsoft.Extensions.Configuration;<br>    using Microsoft.AspNetCore.Diagnostics;//引用异常处理<br><br>    namespace test<br>    {<br>        public class Startup<br>        {<br>            public IConfiguration Configuration{get;set;}<br>            public Startup()<br>            {<br>                var builder=new ConfigurationBuilder().AddJsonFile(“AppSettings.json”);<br>                Configuration=builder.Build();<br>            }<br>            // This method gets called by the runtime. Use this method to add services to the container.<br>            // For more information on how to configure your application, visit <a href="https://go.microsoft.com/fwlink/?LinkID=398940" target="_blank" rel="external">https://go.microsoft.com/fwlink/?LinkID=398940</a><br>            public void ConfigureServices(IServiceCollection services)<br>            {<br>            }<br><br>            // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.<br>            public void Configure(IApplicationBuilder app, IHostingEnvironment env)<br>            {<br>                if (env.IsDevelopment())<br>                {<br>                    app.UseDeveloperExceptionPage();<br>                }<br>                //使用欢迎页面<br>                app.UseWelcomePage();<br>                app.Run(async (context) =&gt;<br>                {<br>                    var msg=Configuration[“message”];<br>                    //设置响应类型<br>                    context.Response.ContentType = “text/plain;charset=utf-8”;<br>                    await context.Response.WriteAsync(msg);<br>                });<br>            }<br>        }<br>    }<br><br>ASP.NET Core异常和错误处理<br>—<br>    public void Configure(IApplicationBuilder app, IHostingEnvironment env)<br>    {<br>        //开发环境下捕获报错，会显示详细报错信息，正式环境下则隐藏了相关文件和报错明细<br>        if (env.IsDevelopment())<br>        {<br>            app.UseDeveloperExceptionPage();<br>        }<br>        //使用欢迎页面<br>        app.UseWelcomePage();<br>        app.Run(async (context) =&gt;<br>        {<br>            new Exception(“Throw Exception”)<br>            var msg=Configuration[“message”];<br>            //设置响应类型<br>            context.Response.ContentType = “text/plain;charset=utf-8”;<br>            await context.Response.WriteAsync(msg);<br>        });<br>    }<br><br>ASP.NET Core 静态文件<br>—<br><p>JavaScript 文件、图像图形、CSS 样式表文件等,一般存放在wwwroot目录下</p><br><p>UseStaticFiles中间件机制：</p><br><p>1.如果静态文件是一个可以使用的文件，它将返回该文件，而不会尝试调用下一个中间件</p><br><p>2.如果它没有找到匹配的文件，那么将继续调用下一个中间件</p><br><p>UseDefaultFiles中间件在开发环境使用，获取默认起始页，例如Index.html不区分大小写</p><br><p><b>UseDefaultFiles中间件必须在UseStaticFiles中间件的前面</b></p>

<pre><code>public void Configure(IApplicationBuilder app, IHostingEnvironment env)
{
    if (env.IsDevelopment())
    {
        app.UseDefaultFiles();
        app.UseDeveloperExceptionPage();
    }
    app.UseStaticFiles();
    //ap.Run(async (context) =&gt;
    //{
    //    var msg=Configuration[&quot;message&quot;];
    //    //设置响应类型
    //    context.Response.ContentType = &quot;text/plain;charset=utf-8&quot;;
    //    await context.Response.WriteAsync(msg);
    //});
}
</code></pre><h2 id="ASP-NET-Core-配置MVC"><a href="#ASP-NET-Core-配置MVC" class="headerlink" title="ASP.NET Core 配置MVC"></a>ASP.NET Core 配置MVC</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://JoyDu.github.io/2019/01/24/python爬虫开发与项目实践/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Joy Du">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JoyDu的小窝">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/01/24/python爬虫开发与项目实践/" itemprop="url">python爬虫开发与项目实践</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-01-24T19:42:00+08:00">
                2019-01-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://JoyDu.github.io/2018/11/19/existsNotexists/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Joy Du">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JoyDu的小窝">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/19/existsNotexists/" itemprop="url">oracle中的exists和not exists用法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-19T16:42:00+08:00">
                2018-11-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="相关子查询"><a href="#相关子查询" class="headerlink" title="相关子查询"></a>相关子查询</h2><pre><code>子查询的查询条件依赖于外层父查询的某个属性值，称这类查询为相关子查询。
首先去外层查询中表的第1个元组，根据它与内层查询相关的属性值处理内层查询，若WHERE子句返回值为真，则取此元组放入结果表；然后再取表的下一个元组；重复这个过程直到外层表全部检查完为止
</code></pre><h2 id="exists"><a href="#exists" class="headerlink" title="exists"></a>exists</h2><pre><code>//带有EXISTS谓词的子查询不返回任何数据，只产生逻辑真值“true”或逻辑假值“false”。
//EXISTS里的子查询结果集非空，EXISTS()子句的值就是true。
//EXISTS里的子查询结果集为空，EXISTS()子句的值就是false。 
select * from emp where exists (select * from dept where dname like &apos;%A%&apos; and deptno = emp.deptno)
</code></pre><h2 id="not-exists"><a href="#not-exists" class="headerlink" title="not exists"></a>not exists</h2><pre><code>select * from emp where not exists (select * from dept where dname like &apos;%A%&apos; and deptno = emp.deptno)
</code></pre><h2 id="exists和in"><a href="#exists和in" class="headerlink" title="exists和in"></a>exists和in</h2><pre><code>in子句通常用在不相关子查询中。通常先执行子查询，将子查询的结构用于父查询。
子查询的查询条件不依赖于父查询，这类子查询称为不相关子查询。

in 和 exists 的区别

性能上的比较
Select * from T1 where x in ( select y from T2 )
执行的过程相当于:
select *
    from t1, ( select distinct y from t2 ) t2
where t1.x = t2.y;


select * from t1 where exists ( select null from t2 where y = x )
执行的过程相当于:
for x in ( select * from t1 )
    loop
        if ( exists ( select null from t2 where y = x.x ) )
        then
    OUTPUT THE RECORD
        end if
end loop
表 T1 不可避免的要被完全扫描一遍

以子查询 ( select y from T2 )为考虑方向，如果子查询的结果集很大需要消耗很多时间，
但是T1比较小执行( select null from t2 where y = x.x )非常快，那么exists就比较适合用在这里。
相对应得子查询的结果集比较小的时候就应该使用in. 
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Joy Du</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">24</span>
                  <span class="site-state-item-name">Artikel</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">Kategorien</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">Tags</span>
                
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Joy Du</span>

  
</div>


  <div class="powered-by">Erstellt mit  <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
